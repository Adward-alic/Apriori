# 关联规则

![image-20220927104309009](C:\Users\weg\AppData\Roaming\Typora\typora-user-images\image-20220927104309009.png)



## 关联规则概述

事务：一个用户，一个样本称为一个”事务“

项：单个属性即是项（可以类比为数据库）

项集：有多个项目组成的集合，可以理解为项集是事物的子集



### X==》Y 含义

这是关联规则

规则前项（antecedent）：X

规则后项（consequence）：Y



### 事务

事务是仅仅包含项目名称，但是不包含”项“的信息，比如牛奶什么时候出产，什么时候过期等等



### 支持度（support）

一个规则或者一个项集在所有事务中出现的频率；

### σ（x）：

表示项集X的支持度计数

- 项集x的支持度：s(x)=σ（x）/p（x）
- 规则x->的支持度：即是物品X对物品Y的支持度，也就是同时购买X和Y的的事务在总事务之比



### 置信度（condidence）：

确定Y在包含X的事务中出现的频率。C(X->Y)=σ(XUY)/σ(X)

- P(Y|X)=P(XY)|P(X)。
- 置信度强调的是在购买了某一种商品的顾客中有多少也购买了另一种商品，类似于条件概率



![image-20220927111337024](C:\Users\weg\AppData\Roaming\Typora\typora-user-images\image-20220927111337024.png)

 A->C (50%    66.6%)

C->A(50%      100%)

若关联规则的支持度超过人为设置的最小支持度和最小置信度，则称其为强关联规则



### 提升度（lift）

物品集合A的出现对物品集合B出现的概率做出了多大的变化



- lift（A->B）= C(A->B) / S（B）=P(B|A)/P(B)

- 例如有1000个消费者，其中买茶500人，同时买咖啡450人，C（茶->咖啡）=p(咖啡|茶)=450/500=90%，则该规则置信度为90%，但是如果剩下没有买茶的500人中，也有450人买了咖啡，则这样看来，不喝茶->咖啡的置信度也有50%。这样看来买茶与是否购买咖啡没有必然关系

  所以提升度（lift）的引入，弥补了缺陷，如果lift=1，则表示同时购买了AB产品的人占购买B产品的人总数的一半，也就是说，A产品的购买对B产品购买没有任何作用，如果lift>1，则说明购买A产品对于购买B产品有增益性作用，如果lift<1,则说明购买A产品对于购买B产品有减益作用



提升度是用概率计算，置信度和支持度是计数计算



![image-20220927120725140](C:\Users\weg\AppData\Roaming\Typora\typora-user-images\image-20220927120725140.png)



# Apriori

- 一个项集是非频繁项集，则他的超集也是非频繁项集



如果有数量巨大的商品，那么这些商品组成的项集也是巨大的，从这些巨多的项集中找到频繁项集无疑是困难的，因此Apriori算法可以利用上面原理更快找到频繁项集的方法



 